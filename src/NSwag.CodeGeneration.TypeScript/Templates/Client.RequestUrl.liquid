{% for parameter in operation.PathParameters -%}
{% if parameter.IsRequired -%}
Guard.required({{ parameter.VariableName }}, '{{ parameter.VariableName }}');
{% endif -%}
{% endfor -%}

{% for parameter in operation.QueryParameters -%}
{%    if parameter.IsRequired -%}
{%        if parameter.IsNullable -%}
Guard.defined({{ parameter.VariableName }}, '{{ parameter.VariableName }}');
{%        else -%}
Guard.required({{ parameter.VariableName }}, '{{ parameter.VariableName }}');
{%    endif    -%}
{% elsif parameter.IsNullable == false -%}
if ({{ parameter.VariableName }} === null)
Guard.notNull({{ parameter.VariableName }}, '{{ parameter.VariableName }}');
{% endif -%}
{% endfor -%}

let uri_ = new UriBuilder(this.baseUrl + "/{{ operation.Path }}");
{% for parameter in operation.PathParameters -%}
    uri_.path("{{ parameter.Name }}", {{ parameter.VariableName }});
{% endfor -%}
{% for parameter in operation.QueryParameters -%}
{% if parameter.IsDateOrDateTime -%}
    uri_.param("{{ parameter.Name }}",{{ parameter.VariableName }} ? {{ parameter.VariableName }}.{{ parameter.GetDateTimeToString }} : "{{ QueryNullValue }}");
{% elsif parameter.IsArray -%}
    uri_.paramArray("{{ parameter.Name }}", {{ parameter.VariableName }});
{% elsif parameter.IsObjectArray -%}
    uri_.paramObjectArray("{{ parameter.Name }}", {{ parameter.VariableName }});
{% else -%}
    uri_.param("{{ parameter.Name }}", {{ parameter.VariableName }});
{% endif -%}
{% endfor -%}
let url_ = uri_.toString();